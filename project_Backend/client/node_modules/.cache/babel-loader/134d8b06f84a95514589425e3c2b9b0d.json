{"ast":null,"code":"import _regeneratorRuntime from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/draft/Desktop/project_Backend/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/draft/Desktop/project_Backend/client/src/Department.js\";\nimport React, { Component } from 'react';\nimport 'react-day-picker/lib/style.css';\nimport { Table, FormGroup, ControlLabel, FormControl, Button, Tab, Tabs } from 'react-bootstrap';\nimport './App.css';\nimport MyNavBar from './MyNavBar';\n\nvar Department =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Department, _Component);\n\n  function Department(props, context) {\n    var _this;\n\n    _classCallCheck(this, Department);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Department).call(this, props, context));\n\n    _this.addDeptName = function (e) {\n      e.preventDefault();\n      if (_this.state.cansend === false) alert(\"PLEASE TYPE NUMBER, NOT CHARACTER!\");else if (_this.state.add_dept_dnameTB !== '' && _this.state.add_dept_telTB !== '') {\n        var data = {\n          deptName: _this.state.add_dept_dnameTB,\n          telno: _this.state.add_dept_telTB\n        };\n        fetch('/dplop/add_dept', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n\n        _this.setState({\n          add_dept_dnameTB: '',\n          add_dept_telTB: ''\n        }); //this.props.history.push('/');\n\n      } else {\n        alert(\"PLEASE FILL IN BEFORE PRESS THE BUTTON!\");\n      }\n    };\n\n    _this.changeDeptTel = function (e) {\n      e.preventDefault();\n      if (_this.state.cansend === false) alert(\"PLEASE TYPE NUMBER, NOT CHARACTER!\");else if (_this.state.change_dept_tel_dnameTB !== '' && _this.state.change_dept_tel_telTB !== '') {\n        var data = {\n          deptName: _this.state.change_dept_tel_dnameTB,\n          telno: _this.state.change_dept_tel_telTB // console.log(JSON.stringify(data))\n\n        };\n        var response = fetch('/dplop/change_dept_tel', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n\n        _this.setState({\n          change_dept_tel_dnameTB: '',\n          change_dept_tel_telTB: ''\n        }); //this.props.history.push('/');\n\n      } else {\n        alert(\"PLEASE FILL IN BEFORE PRESS THE BUTTON!\");\n      }\n    };\n\n    _this.deleteDept = function (e) {\n      e.preventDefault();\n\n      if (_this.state.remove_dept_dnameTB !== '') {\n        fetch('/dplop/remove_dept', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            deptName: _this.state.remove_dept_dnameTB\n          })\n        });\n\n        _this.setState({\n          remove_dept_dnameTB: ''\n        }); //this.props.history.push('/');\n\n      } else {\n        alert(\"PLEASE FILL IN BEFORE PRESS THE BUTTON!\");\n      }\n    };\n\n    _this.handle_add_dept_dname = _this.handle_add_dept_dname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_add_dept_tel = _this.handle_add_dept_tel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_change_dept_tel_dname = _this.handle_change_dept_tel_dname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_change_dept_tel_tel = _this.handle_change_dept_tel_tel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_delete_dept_dname = _this.handle_delete_dept_dname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchDeptTable = _this.fetchDeptTable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      add_dept_dnameTB: '',\n      add_dept_telTB: '',\n      change_dept_tel_dnameTB: '',\n      change_dept_tel_telTB: '',\n      remove_dept_dnameTB: '',\n      deptTable: [],\n      cansend: false\n    };\n    return _this;\n  }\n\n  _createClass(Department, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchDeptTable();\n    }\n  }, {\n    key: \"fetchDeptTable\",\n    value: function () {\n      var _fetchDeptTable = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch('/dplop/list_dept');\n\n              case 3:\n                response = _context.sent;\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                results = _context.sent;\n                console.log(results);\n                this.setState({\n                  deptTable: results\n                });\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                console.log('Department table parsing failed', _context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 11]]);\n      }));\n\n      return function fetchDeptTable() {\n        return _fetchDeptTable.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getValidationState\",\n    value: function getValidationState(txt) {\n      var length = txt.length;\n\n      if ((txt === this.state.change_dept_tel_telTB || txt === this.state.add_dept_telTB) && length > 0) {\n        if (isNaN(parseInt(txt))) {\n          this.state.cansend = false;\n          return 'error';\n        } else {\n          this.state.cansend = true;\n        }\n      } // if (length > 3) return 'success';\n      // else if (length > 0) return 'error';\n\n\n      return null;\n    }\n  }, {\n    key: \"handle_add_dept_dname\",\n    value: function handle_add_dept_dname(e) {\n      this.setState({\n        add_dept_dnameTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_add_dept_tel\",\n    value: function handle_add_dept_tel(e) {\n      this.setState({\n        add_dept_telTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_change_dept_tel_dname\",\n    value: function handle_change_dept_tel_dname(e) {\n      this.setState({\n        change_dept_tel_dnameTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_change_dept_tel_tel\",\n    value: function handle_change_dept_tel_tel(e) {\n      this.setState({\n        change_dept_tel_telTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_delete_dept_dname\",\n    value: function handle_delete_dept_dname(e) {\n      this.setState({\n        remove_dept_dnameTB: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(MyNavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(\"header\", {\n        className: \"App-containers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        defaultActiveKey: 1,\n        id: \"uncontrolled-tab-example\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        eventKey: 1,\n        title: \"Add Department\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.add_dept_dnameTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Add department\"), React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.add_dept_dnameTB,\n        placeholder: \"Department name\",\n        onChange: this.handle_add_dept_dname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.add_dept_telTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.add_dept_telTB,\n        placeholder: \"Telephone No.\",\n        onChange: this.handle_add_dept_tel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), React.createElement(Button, {\n        bsStyle: \"primary\",\n        onClick: this.addDeptName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Add\")))), React.createElement(Tab, {\n        eventKey: 2,\n        title: \"Change Department TelNo.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.change_dept_tel_dnameTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Change Telephone No.\"), React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.change_dept_tel_dnameTB,\n        placeholder: \"Department name\",\n        onChange: this.handle_change_dept_tel_dname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.change_dept_tel_telTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.change_dept_tel_telTB,\n        placeholder: \"New Telephone No.\",\n        onChange: this.handle_change_dept_tel_tel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(Button, {\n        bsStyle: \"warning\",\n        onClick: this.changeDeptTel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Change\")))), React.createElement(Tab, {\n        eventKey: 3,\n        title: \"Delete Department\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.remove_dept_dnameTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Delete department\"), React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.remove_dept_dnameTB,\n        placeholder: \"Department name\",\n        onChange: this.handle_delete_dept_dname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(Button, {\n        bsStyle: \"danger\",\n        onClick: this.deleteDept,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"Delete\"))))), React.createElement(Button, {\n        bsStyle: \"primary\",\n        onClick: this.fetchDeptTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Fetch Department Table\"), React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        condensed: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Department name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"Telephone No.\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, this.state.deptTable === null ? null : this.state.deptTable.map(function (dept) {\n        var deptName = dept.deptName,\n            telno = dept.telno;\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, deptName), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, telno));\n      }))))));\n    }\n  }]);\n\n  return Department;\n}(Component);\n\nexport default Department;","map":{"version":3,"sources":["/Users/draft/Desktop/project_Backend/client/src/Department.js"],"names":["React","Component","Table","FormGroup","ControlLabel","FormControl","Button","Tab","Tabs","MyNavBar","Department","props","context","addDeptName","e","preventDefault","state","cansend","alert","add_dept_dnameTB","add_dept_telTB","data","deptName","telno","fetch","method","headers","body","JSON","stringify","setState","changeDeptTel","change_dept_tel_dnameTB","change_dept_tel_telTB","response","deleteDept","remove_dept_dnameTB","handle_add_dept_dname","bind","handle_add_dept_tel","handle_change_dept_tel_dname","handle_change_dept_tel_tel","handle_delete_dept_dname","fetchDeptTable","deptTable","json","results","console","log","txt","length","isNaN","parseInt","target","value","getValidationState","map","dept"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'react-day-picker/lib/style.css'\nimport { Table, FormGroup, ControlLabel, FormControl, Button, Tab, Tabs } from 'react-bootstrap'\nimport './App.css';\nimport MyNavBar from './MyNavBar';\n\n\nclass Department extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.handle_add_dept_dname = this.handle_add_dept_dname.bind(this);\n        this.handle_add_dept_tel = this.handle_add_dept_tel.bind(this);\n        this.handle_change_dept_tel_dname = this.handle_change_dept_tel_dname.bind(this);\n        this.handle_change_dept_tel_tel = this.handle_change_dept_tel_tel.bind(this);\n        this.handle_delete_dept_dname = this.handle_delete_dept_dname.bind(this);\n        this.fetchDeptTable = this.fetchDeptTable.bind(this);\n\n        this.state = {\n            add_dept_dnameTB: '',\n            add_dept_telTB: '',\n            change_dept_tel_dnameTB: '',\n            change_dept_tel_telTB: '',\n            remove_dept_dnameTB: '',\n            deptTable: [],\n            cansend: false\n        }\n    }\n\n\n    componentDidMount() {\n        this.fetchDeptTable();\n    }\n\n    async fetchDeptTable() {\n        try {\n            // this.setState({\n            //     deptTable: []\n            // })\n            const response = await fetch('/dplop/list_dept')\n            const results = await response.json();\n            console.log(results)\n            this.setState({\n                deptTable: results\n            })\n\n        } catch (error) {\n            console.log('Department table parsing failed', error);\n        }\n    }\n\n    getValidationState(txt) {\n        const length = txt.length;\n        if ((txt === this.state.change_dept_tel_telTB || txt === this.state.add_dept_telTB) && length > 0) {\n            if (isNaN(parseInt(txt))) {\n                this.state.cansend = false\n                return 'error'\n            }\n            else {\n                this.state.cansend = true\n            }\n\n        }\n        // if (length > 3) return 'success';\n        // else if (length > 0) return 'error';\n        return null;\n    }\n\n    handle_add_dept_dname(e) {\n        this.setState({ add_dept_dnameTB: e.target.value });\n    }\n\n    handle_add_dept_tel(e) {\n        this.setState({ add_dept_telTB: e.target.value });\n    }\n\n    handle_change_dept_tel_dname(e) {\n        this.setState({ change_dept_tel_dnameTB: e.target.value });\n    }\n\n    handle_change_dept_tel_tel(e) {\n        this.setState({ change_dept_tel_telTB: e.target.value });\n    }\n\n    handle_delete_dept_dname(e) {\n        this.setState({ remove_dept_dnameTB: e.target.value });\n    }\n\n    addDeptName = e => {\n        e.preventDefault()\n        if (this.state.cansend === false)\n            alert(`PLEASE TYPE NUMBER, NOT CHARACTER!`);\n        else if (this.state.add_dept_dnameTB !== '' && this.state.add_dept_telTB !== '') {\n            const data = { deptName: this.state.add_dept_dnameTB, telno: this.state.add_dept_telTB }\n            fetch('/dplop/add_dept', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n\n            })\n            this.setState({\n                add_dept_dnameTB: '',\n                add_dept_telTB: ''\n            })\n            //this.props.history.push('/');\n        }\n        else {\n            alert(`PLEASE FILL IN BEFORE PRESS THE BUTTON!`);\n        }\n    }\n\n    changeDeptTel = e => {\n        e.preventDefault()\n        if (this.state.cansend === false)\n            alert(`PLEASE TYPE NUMBER, NOT CHARACTER!`);\n        else if (this.state.change_dept_tel_dnameTB !== '' && this.state.change_dept_tel_telTB !== '') {\n            const data = { deptName: this.state.change_dept_tel_dnameTB, telno: this.state.change_dept_tel_telTB }\n            // console.log(JSON.stringify(data))\n            const response = fetch('/dplop/change_dept_tel', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            })\n            this.setState({\n                change_dept_tel_dnameTB: '',\n                change_dept_tel_telTB: ''\n            })\n            //this.props.history.push('/');\n        }\n        else {\n            alert(`PLEASE FILL IN BEFORE PRESS THE BUTTON!`);\n        }\n    }\n\n    deleteDept = e => {\n        e.preventDefault()\n        if (this.state.remove_dept_dnameTB !== '') {\n            fetch('/dplop/remove_dept', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ deptName: this.state.remove_dept_dnameTB })\n\n            })\n            this.setState({\n                remove_dept_dnameTB: ''\n            })\n            //this.props.history.push('/');\n        }\n        else {\n            alert(`PLEASE FILL IN BEFORE PRESS THE BUTTON!`);\n        }\n    }\n\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"App\">\n                    <MyNavBar></MyNavBar>\n                    <header className=\"App-containers\">\n\n                        <Tabs defaultActiveKey={1} id=\"uncontrolled-tab-example\">\n                            <Tab eventKey={1} title=\"Add Department\">\n                                {/* ADD DEPT */}\n                                <form>\n                                    <FormGroup\n                                        controlId=\"formBasicText\"\n                                        validationState={this.getValidationState(this.state.add_dept_dnameTB)}\n                                    >\n                                        <ControlLabel>Add department</ControlLabel>\n                                        <FormControl\n                                            type=\"text\"\n                                            value={this.state.add_dept_dnameTB}\n                                            placeholder=\"Department name\"\n                                            onChange={this.handle_add_dept_dname}\n                                        />\n                                        <FormControl.Feedback />\n                                    </FormGroup>\n                                    <FormGroup\n                                        controlId=\"formBasicText\"\n                                        validationState={this.getValidationState(this.state.add_dept_telTB)}\n                                    >\n                                        <FormControl\n                                            type=\"text\"\n                                            value={this.state.add_dept_telTB}\n                                            placeholder=\"Telephone No.\"\n                                            onChange={this.handle_add_dept_tel}\n                                        />\n                                        <FormControl.Feedback />\n                                        <Button bsStyle=\"primary\" onClick={this.addDeptName}>Add</Button>\n                                    </FormGroup>\n                                </form>\n                            </Tab>\n                            <Tab eventKey={2} title=\"Change Department TelNo.\">\n                                {/* CHANGE DEPT TELNO */}\n                                <form>\n                                    <FormGroup\n                                        controlId=\"formBasicText\"\n                                        validationState={this.getValidationState(this.state.change_dept_tel_dnameTB)}\n                                    >\n                                        <ControlLabel>Change Telephone No.</ControlLabel>\n                                        <FormControl\n                                            type=\"text\"\n                                            value={this.state.change_dept_tel_dnameTB}\n                                            placeholder=\"Department name\"\n                                            onChange={this.handle_change_dept_tel_dname}\n                                        />\n                                        <FormControl.Feedback />\n                                    </FormGroup>\n                                    <FormGroup\n                                        controlId=\"formBasicText\"\n                                        validationState={this.getValidationState(this.state.change_dept_tel_telTB)}\n                                    >\n                                        <FormControl\n                                            type=\"text\"\n                                            value={this.state.change_dept_tel_telTB}\n                                            placeholder=\"New Telephone No.\"\n                                            onChange={this.handle_change_dept_tel_tel}\n                                        />\n                                        <FormControl.Feedback />\n                                        <Button bsStyle=\"warning\" onClick={this.changeDeptTel}>Change</Button>\n                                    </FormGroup>\n                                </form>\n                            </Tab>\n                            <Tab eventKey={3} title=\"Delete Department\">\n                                {/* DELETE DEPT */}\n                                <form>\n                                    <FormGroup\n                                        controlId=\"formBasicText\"\n                                        validationState={this.getValidationState(this.state.remove_dept_dnameTB)}\n                                    >\n                                        <ControlLabel>Delete department</ControlLabel>\n                                        <FormControl\n                                            type=\"text\"\n                                            value={this.state.remove_dept_dnameTB}\n                                            placeholder=\"Department name\"\n                                            onChange={this.handle_delete_dept_dname}\n                                        />\n                                        <FormControl.Feedback />\n                                        <Button bsStyle=\"danger\" onClick={this.deleteDept}>Delete</Button>\n                                    </FormGroup>\n                                </form>\n                            </Tab>\n                        </Tabs>\n\n                        {/* LIST OF DEPT */}\n                        {/* <ControlLabel>List of Department</ControlLabel> */}\n                        <Button bsStyle=\"primary\" onClick={this.fetchDeptTable}>Fetch Department Table</Button>\n                        <Table responsive striped condensed hover>\n                            <thead>\n                                <tr>\n                                    <th>Department name</th>\n                                    <th>Telephone No.</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    this.state.deptTable === null ? null : this.state.deptTable.map(dept => {\n                                        const { deptName, telno } = dept;\n                                        return <tr><td>{deptName}</td><td>{telno}</td></tr>\n                                    })\n                                }\n                            </tbody>\n                        </Table>\n                    </header>\n                </div>\n            </React.Fragment >\n        );\n    }\n}\n\n\n\nexport default Department;"]},"metadata":{},"sourceType":"module"}