{"ast":null,"code":"import _regeneratorRuntime from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/draft/Desktop/TravelVankaWebsite-master/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/draft/Desktop/TravelVankaWebsite-master/src/Department.js\";\nimport React, { Component } from 'react';\nimport 'react-day-picker/lib/style.css';\nimport { Table, FormGroup, ControlLabel, FormControl, HelpBlock, Button } from 'react-bootstrap';\nimport './App.css';\n\nvar Department =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Department, _Component);\n\n  function Department(props, context) {\n    var _this;\n\n    _classCallCheck(this, Department);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Department).call(this, props, context));\n\n    _this.addDeptName = function (e) {\n      e.preventDefault();\n      if (_this.state.cansend === false) alert(\"PLEASE TYPE NUMBER, NOT CHARACTER!\");else if (_this.state.add_dept_dnameTB !== '' && _this.state.add_dept_telTB !== '') {\n        var data = \"{\" + _this.state.add_dept_dnameTB + \",\" + _this.state.add_dept_telTB + \"}\";\n        fetch('/dplop/add_dept', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }); //this.props.history.push('/');\n      } else {\n        alert(\"PLEASE FILL IN BEFORE PRESS THE BUTTON!\");\n      }\n    };\n\n    _this.changeDeptTel = function (e) {\n      e.preventDefault();\n      if (_this.state.cansend === false) alert(\"PLEASE TYPE NUMBER, NOT CHARACTER!\");else if (_this.state.change_dept_tel_dnameTB !== '' && _this.state.change_dept_tel_telTB !== '') {\n        var data = \"{\" + _this.state.change_dept_tel_dnameTB + \",\" + _this.state.change_dept_tel_telTB + \"}\";\n        console.log(JSON.stringify(data));\n        fetch('/dplop/change_dept_tel', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }); //this.props.history.push('/');\n      } else {\n        alert(\"PLEASE FILL IN BEFORE PRESS THE BUTTON!\");\n      }\n    };\n\n    _this.deleteDept = function (e) {\n      e.preventDefault();\n\n      if (_this.state.remove_dept_dnameTB !== '') {\n        fetch('/dplop/remove_dept', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(_this.state.remove_dept_dnameTB)\n        }); //this.props.history.push('/');\n      } else {\n        alert(\"PLEASE FILL IN BEFORE PRESS THE BUTTON!\");\n      }\n    };\n\n    _this.handle_add_dept_dname = _this.handle_add_dept_dname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_add_dept_tel = _this.handle_add_dept_tel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_change_dept_tel_dname = _this.handle_change_dept_tel_dname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_change_dept_tel_tel = _this.handle_change_dept_tel_tel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handle_delete_dept_dname = _this.handle_delete_dept_dname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      add_dept_dnameTB: '',\n      add_dept_telTB: '',\n      change_dept_tel_dnameTB: '',\n      change_dept_tel_telTB: '',\n      remove_dept_dnameTB: '',\n      deptTable: [],\n      cansend: false\n    };\n    return _this;\n  }\n\n  _createClass(Department, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchDeptTable();\n    }\n  }, {\n    key: \"fetchDeptTable\",\n    value: function () {\n      var _fetchDeptTable = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                this.setState({\n                  deptTable: []\n                });\n                _context.next = 4;\n                return fetch('https://raw.githubusercontent.com/KNTXTremE/TravelVankaWebsite/master/src/raw/rawDeptTableN');\n\n              case 4:\n                response = _context.sent;\n                _context.next = 7;\n                return response.json();\n\n              case 7:\n                results = _context.sent;\n                _context.next = 10;\n                return this.setState({\n                  deptTable: results\n                });\n\n              case 10:\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](0);\n                console.log('Department table parsing failed', _context.t0);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 12]]);\n      }));\n\n      return function fetchDeptTable() {\n        return _fetchDeptTable.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getValidationState\",\n    value: function getValidationState(txt) {\n      var length = txt.length;\n\n      if ((txt === this.state.change_dept_tel_telTB || txt === this.state.add_dept_telTB) && length > 0) {\n        if (isNaN(parseInt(txt))) {\n          this.state.cansend = false;\n          return 'error';\n        } else {\n          this.state.cansend = true;\n        }\n      } // if (length > 3) return 'success';\n      // else if (length > 0) return 'error';\n\n\n      return null;\n    }\n  }, {\n    key: \"handle_add_dept_dname\",\n    value: function handle_add_dept_dname(e) {\n      this.setState({\n        add_dept_dnameTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_add_dept_tel\",\n    value: function handle_add_dept_tel(e) {\n      this.setState({\n        add_dept_telTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_change_dept_tel_dname\",\n    value: function handle_change_dept_tel_dname(e) {\n      this.setState({\n        change_dept_tel_dnameTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_change_dept_tel_tel\",\n    value: function handle_change_dept_tel_tel(e) {\n      this.setState({\n        change_dept_tel_telTB: e.target.value\n      });\n    }\n  }, {\n    key: \"handle_delete_dept_dname\",\n    value: function handle_delete_dept_dname(e) {\n      this.setState({\n        remove_dept_dnameTB: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-containers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        className: \"btn btn-outline-primary btn-lg main-button\",\n        role: \"button\",\n        \"aria-pressed\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Main\"), React.createElement(\"a\", {\n        href: \"/reserve\",\n        className: \"btn btn-outline-primary btn-lg main-button\",\n        role: \"button\",\n        \"aria-pressed\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Reserve\"), React.createElement(\"a\", {\n        href: \"/trip\",\n        className: \"btn btn-outline-primary btn-lg main-button\",\n        role: \"button\",\n        \"aria-pressed\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Trip\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.add_dept_dnameTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Add department\"), React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.add_dept_dnameTB,\n        placeholder: \"Department name\",\n        onChange: this.handle_add_dept_dname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.add_dept_telTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.add_dept_telTB,\n        placeholder: \"Telephone No.\",\n        onChange: this.handle_add_dept_tel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(Button, {\n        bsStyle: \"primary\",\n        onClick: this.addDeptName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Add\")), React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.change_dept_tel_dnameTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Change Telephone No.\"), React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.change_dept_tel_dnameTB,\n        placeholder: \"Department name\",\n        onChange: this.handle_change_dept_tel_dname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.change_dept_tel_telTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.change_dept_tel_telTB,\n        placeholder: \"New Telephone No.\",\n        onChange: this.handle_change_dept_tel_tel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(Button, {\n        bsStyle: \"warning\",\n        onClick: this.changeDeptTel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Change\")), React.createElement(FormGroup, {\n        controlId: \"formBasicText\",\n        validationState: this.getValidationState(this.state.remove_dept_dnameTB),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Delete department\"), React.createElement(FormControl, {\n        type: \"text\",\n        value: this.state.remove_dept_dnameTB,\n        placeholder: \"Department name\",\n        onChange: this.handle_delete_dept_dname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }), React.createElement(FormControl.Feedback, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), React.createElement(Button, {\n        bsStyle: \"danger\",\n        onClick: this.deleteDept,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"List of Department\"), React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        condensed: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Department name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Telephone No.\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, this.state.deptTable === null ? null : this.state.deptTable.map(function (dept) {\n        var deptname = dept.deptname,\n            telno = dept.telno;\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, deptname), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, telno));\n      }))))));\n    }\n  }]);\n\n  return Department;\n}(Component);\n\nexport default Department;","map":{"version":3,"sources":["/Users/draft/Desktop/TravelVankaWebsite-master/src/Department.js"],"names":["React","Component","Table","FormGroup","ControlLabel","FormControl","HelpBlock","Button","Department","props","context","addDeptName","e","preventDefault","state","cansend","alert","add_dept_dnameTB","add_dept_telTB","data","fetch","method","headers","body","JSON","stringify","changeDeptTel","change_dept_tel_dnameTB","change_dept_tel_telTB","console","log","deleteDept","remove_dept_dnameTB","handle_add_dept_dname","bind","handle_add_dept_tel","handle_change_dept_tel_dname","handle_change_dept_tel_tel","handle_delete_dept_dname","deptTable","fetchDeptTable","setState","response","json","results","txt","length","isNaN","parseInt","target","value","getValidationState","map","dept","deptname","telno"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'react-day-picker/lib/style.css'\nimport { Table, FormGroup, ControlLabel, FormControl, HelpBlock, Button } from 'react-bootstrap'\nimport './App.css';\n\n\nclass Department extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.handle_add_dept_dname = this.handle_add_dept_dname.bind(this);\n        this.handle_add_dept_tel = this.handle_add_dept_tel.bind(this);\n        this.handle_change_dept_tel_dname = this.handle_change_dept_tel_dname.bind(this);\n        this.handle_change_dept_tel_tel = this.handle_change_dept_tel_tel.bind(this);\n        this.handle_delete_dept_dname = this.handle_delete_dept_dname.bind(this);\n        this.state = {\n            add_dept_dnameTB: '',\n            add_dept_telTB: '',\n            change_dept_tel_dnameTB: '',\n            change_dept_tel_telTB: '',\n            remove_dept_dnameTB: '',\n            deptTable: [],\n            cansend: false\n        }\n    }\n\n\n    componentDidMount() {\n        this.fetchDeptTable();\n    }\n\n    async fetchDeptTable() {\n        try {\n            this.setState({\n                deptTable: []\n            })\n            const response = await fetch('https://raw.githubusercontent.com/KNTXTremE/TravelVankaWebsite/master/src/raw/rawDeptTableN')\n            const results = await response.json();\n            await this.setState({ deptTable: results });\n\n        } catch (error) {\n            console.log('Department table parsing failed', error);\n        }\n    }\n\n    getValidationState(txt) {\n        const length = txt.length;\n        if ((txt === this.state.change_dept_tel_telTB || txt === this.state.add_dept_telTB) && length > 0) {\n            if (isNaN(parseInt(txt))) {\n                this.state.cansend = false\n                return 'error'\n            }\n            else {\n                this.state.cansend = true\n            }\n\n        }\n        // if (length > 3) return 'success';\n        // else if (length > 0) return 'error';\n        return null;\n    }\n\n    handle_add_dept_dname(e) {\n        this.setState({ add_dept_dnameTB: e.target.value });\n    }\n\n    handle_add_dept_tel(e) {\n        this.setState({ add_dept_telTB: e.target.value });\n    }\n\n    handle_change_dept_tel_dname(e) {\n        this.setState({ change_dept_tel_dnameTB: e.target.value });\n    }\n\n    handle_change_dept_tel_tel(e) {\n        this.setState({ change_dept_tel_telTB: e.target.value });\n    }\n\n    handle_delete_dept_dname(e) {\n        this.setState({ remove_dept_dnameTB: e.target.value });\n    }\n\n    addDeptName = e => {\n        e.preventDefault()\n        if (this.state.cansend === false)\n            alert(`PLEASE TYPE NUMBER, NOT CHARACTER!`);\n        else if (this.state.add_dept_dnameTB !== '' && this.state.add_dept_telTB !== '') {\n            const data = \"{\" + this.state.add_dept_dnameTB + \",\" + this.state.add_dept_telTB + \"}\"\n            fetch('/dplop/add_dept', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n\n            })\n            //this.props.history.push('/');\n        }\n        else {\n            alert(`PLEASE FILL IN BEFORE PRESS THE BUTTON!`);\n        }\n    }\n\n    changeDeptTel = e => {\n        e.preventDefault()\n        if (this.state.cansend === false)\n            alert(`PLEASE TYPE NUMBER, NOT CHARACTER!`);\n        else if (this.state.change_dept_tel_dnameTB !== '' && this.state.change_dept_tel_telTB !== '') {\n            const data = \"{\" + this.state.change_dept_tel_dnameTB + \",\" + this.state.change_dept_tel_telTB + \"}\"\n            console.log(JSON.stringify(data))\n            fetch('/dplop/change_dept_tel', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n\n            })\n            //this.props.history.push('/');\n        }\n        else {\n            alert(`PLEASE FILL IN BEFORE PRESS THE BUTTON!`);\n        }\n    }\n\n    deleteDept = e => {\n        e.preventDefault()\n        if (this.state.remove_dept_dnameTB !== '') {\n            fetch('/dplop/remove_dept', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.state.remove_dept_dnameTB)\n\n            })\n            //this.props.history.push('/');\n        }\n        else {\n            alert(`PLEASE FILL IN BEFORE PRESS THE BUTTON!`);\n        }\n    }\n\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"App\">\n                    <header className=\"App-containers\">\n                        <a\n                            href=\"/\"\n                            className=\"btn btn-outline-primary btn-lg main-button\"\n                            role=\"button\"\n                            aria-pressed=\"true\"\n                        >\n                            Main\n                    </a>\n                        <a\n                            href=\"/reserve\"\n                            className=\"btn btn-outline-primary btn-lg main-button\"\n                            role=\"button\"\n                            aria-pressed=\"true\"\n                        >\n                            Reserve\n                    </a>\n                        <a\n                            href=\"/trip\"\n                            className=\"btn btn-outline-primary btn-lg main-button\"\n                            role=\"button\"\n                            aria-pressed=\"true\"\n                        >\n                            Trip\n                    </a>\n\n\n\n                        <form>\n                            {/* ADD DEPT */}\n                            <FormGroup\n                                controlId=\"formBasicText\"\n                                validationState={this.getValidationState(this.state.add_dept_dnameTB)}\n                            >\n                                <ControlLabel>Add department</ControlLabel>\n                                <FormControl\n                                    type=\"text\"\n                                    value={this.state.add_dept_dnameTB}\n                                    placeholder=\"Department name\"\n                                    onChange={this.handle_add_dept_dname}\n                                />\n                                <FormControl.Feedback />\n                            </FormGroup>\n                            <FormGroup\n                                controlId=\"formBasicText\"\n                                validationState={this.getValidationState(this.state.add_dept_telTB)}\n                            >\n                                <FormControl\n                                    type=\"text\"\n                                    value={this.state.add_dept_telTB}\n                                    placeholder=\"Telephone No.\"\n                                    onChange={this.handle_add_dept_tel}\n                                />\n                                <FormControl.Feedback />\n                                <Button bsStyle=\"primary\" onClick={this.addDeptName}>Add</Button>\n                            </FormGroup>\n\n                            {/* CHANGE DEPT TELNO */}\n                            <FormGroup\n                                controlId=\"formBasicText\"\n                                validationState={this.getValidationState(this.state.change_dept_tel_dnameTB)}\n                            >\n                                <ControlLabel>Change Telephone No.</ControlLabel>\n                                <FormControl\n                                    type=\"text\"\n                                    value={this.state.change_dept_tel_dnameTB}\n                                    placeholder=\"Department name\"\n                                    onChange={this.handle_change_dept_tel_dname}\n                                />\n                                <FormControl.Feedback />\n                            </FormGroup>\n                            <FormGroup\n                                controlId=\"formBasicText\"\n                                validationState={this.getValidationState(this.state.change_dept_tel_telTB)}\n                            >\n                                <FormControl\n                                    type=\"text\"\n                                    value={this.state.change_dept_tel_telTB}\n                                    placeholder=\"New Telephone No.\"\n                                    onChange={this.handle_change_dept_tel_tel}\n                                />\n                                <FormControl.Feedback />\n                                <Button bsStyle=\"warning\" onClick={this.changeDeptTel}>Change</Button>\n                            </FormGroup>\n\n                            {/* DELETE DEPT */}\n                            <FormGroup\n                                controlId=\"formBasicText\"\n                                validationState={this.getValidationState(this.state.remove_dept_dnameTB)}\n                            >\n                                <ControlLabel>Delete department</ControlLabel>\n                                <FormControl\n                                    type=\"text\"\n                                    value={this.state.remove_dept_dnameTB}\n                                    placeholder=\"Department name\"\n                                    onChange={this.handle_delete_dept_dname}\n                                />\n                                <FormControl.Feedback />\n                                <Button bsStyle=\"danger\" onClick={this.deleteDept}>Delete</Button>\n                            </FormGroup>\n                        </form>\n\n                        {/* LIST OF DEPT */}\n                        <ControlLabel>List of Department</ControlLabel>\n                        <Table responsive striped condensed hover>\n                            <thead>\n                                <tr>\n                                    <th>Department name</th>\n                                    <th>Telephone No.</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    this.state.deptTable === null ? null : this.state.deptTable.map(dept => {\n                                        const { deptname, telno } = dept;\n                                        return <tr><td>{deptname}</td><td>{telno}</td></tr>\n                                    })\n                                }\n                            </tbody>\n                        </Table>\n                    </header>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n\n\nexport default Department;\n"]},"metadata":{},"sourceType":"module"}